# MySQL database connection properties
spring.datasource.url=jdbc:mysql://localhost:3306/flipkart_07_jan_dev
spring.datasource.username=root
spring.datasource.password=root@123
# Specifies the driver class name for MySQL
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver
# JPA and Hibernate settings
# Automatically update the database schema
spring.jpa.hibernate.ddl-auto=update 
# Show SQL statements in the console (useful for development)
spring.jpa.show-sql=true
# Optional: specify the MySQL dialect for Hibernate
spring.jpa.database-platform=org.hibernate.dialect.MySQLDialect

# --- General Application Information ---
# Unique name for this service as it will appear in Zipkin
#spring.application.name=my-service-name

# --- Tracing Configuration ---
# 1.0 = 100% of requests are traced; 0.1 = 10% (default)
management.tracing.sampling.probability=1.0

# Enable/Disable the Zipkin exporter
management.tracing.export.zipkin.enabled=true

# The endpoint where Zipkin is listening (usually port 9411)
management.tracing.export.zipkin.endpoint=http://localhost:9411/api/v2/spans

# --- Propagation Strategy ---
# Defines the format of the trace headers sent over the wire
# 'b3' or 'b3_multi' is common for Zipkin interoperability
management.tracing.propagation.type=b3

# --- Feign Integration ---
# Ensures Feign uses the Micrometer ObservationRegistry for propagation
# Requires 'io.github.openfeign:feign-micrometer' dependency
spring.cloud.openfeign.micrometer.enabled=true

# --- Logging (Optional but Recommended) ---
# Custom logging pattern to include Trace and Span IDs in console logs
# %X{traceId} and %X{spanId} are populated automatically by Micrometer
logging.pattern.level=%5p [${spring.application.name},%X{traceId:-},%X{spanId:-}]

# --- Actuator Exposure ---
# Expose the tracing-related actuator endpoints for debugging
management.endpoints.web.exposure.include=health,info,metrics,tracing
